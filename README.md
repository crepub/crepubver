# nver
## 简表
对于熟悉Semver的开发者来说，如果对背后的动机不感兴趣，这里提供了一个简表来方便的说明Nver的规则。
|说明|完整Nver|Semver|完整交流格式|简化交流格式|
|:-----:|:--:|:--:|:--:|:-:|
|项目初始化处于开发中的第一个版本|A100.000|0.100.0-alpha|A100|A1|
|进行了一个小的功能更新|A101.000|0.101.0-alpha|A101|A1|
|进行了一个重要功能更新|A200.000|0.200.0-alpha|A200|A2|
|进入测试阶段的第一个版本|B500.000|0.500.0-beta|B500|B5|
|正式发布维护的第一个版本|X1000.000|1.1000.0|X1000|X1|
|进行了一个小的功能更新|X1001.000|1.1001.0|X1001|X1|
|进行了一个功能更新|X1100.000|1.1100.0|X1100|X1.1|
|进行了一个大更新|X2000.000|1.2000.0|X2000|X2|
|进行了一个问题修正|X2000.001|1.2000.1|X2000p1|X2|
|不向下兼容的一个大版本更新|Z1000.000|2.1000.0|Z1000|Z1|
## 背景
Semver已经成为了当下的主流，在依赖管理领域起着十分重要的作用，但其在交流时却给出了一种我们认为比较负面的对于增加大版本号的鼓励倾向。

举例来说，遵循Semver的例如Rust项目，其至今保持着1.x的版本号，这其实体现了其优秀的稳定性和向下兼容性，但却给不熟悉Semver的人一种这个语言很久没有大更新的感觉，但实际上从1.0以来Rust项目取得了巨大的进步和成果。而事实上有一些项目为了体现更新规模较大的感觉不断地更新大版本号，甚至直接破坏了向后兼容性。

Nver希望在仅打破“版本号每次递增一”规则的情况下，提出一种兼容Semver但更方便交流的版本号规则和交流表达形式，并希望减轻Semver带来的对大版本号增加的倾向，鼓励保持向后兼容性。

## 方案
### 大版本号
对应Semver的大版本号，Nver推荐为每一个大版本号寻找一个或多个合适版本感觉的字母来表示，具体的字母和版本号的对应并没有具体的规则，这些字母可能只用于交流和推广，也可能通过一个映射定义文件来对应到具体的数字。

如果不想为每一个版本单独找一个字母，Nver的推荐方案如下：
- A和B代表0.x版本，分别对应Alpha阶段和Beta阶段
- C代表1.x版本，D代表2.x版本，依次递增
- Nver仍然更为推荐除Alpha和Beta之外寻找独特的字母来代表大版本

如果需要频繁的打破向后兼容性并增加大版本号以至于字母的数量难以表达，那本就不应当考虑Nver提出的方案，因为这是Nver所不鼓励的。

之所以不直接建议按照确定的规则挑选字母，一是因为Nver鼓励在较长的时间内保持向下兼容性并在新版本推出后维持旧版本的支持，我们认为每一个大版本应当视作一个分支，应当尽可能的是平行的关系，交流时应当在大部分语境下代表大版本的字母是确定的或只有少量的可能性，而有顺序的字母虽然带来了更好理解的秩序，也同样给了让人想要进入到下一个字母的感觉，这是Nver所不鼓励的。二是每个作者对数字或字母可能有自己的喜好，且很多时候特定的字母（也许还对应了代号）可以更好的表达一个版本的感觉，所以Nver推荐使用特定的字母而非顺序的字母。
### 小版本号
对应Semver的小版本号，Nver推荐使用一个较大的数字来表达版本号，不同的位表示了不同程度的功能更新，我们一般推荐使用4位数字来表达三种不同程度的更新，例如：
- ```1000```代表着第一个稳定的发布版本
- ```1001```代表着一个小功能的更新或优化
- ```1100```代表着一个大部分用户会感知到的功能更新，社区有一部分人关注着这个功能的情况
- ```2000```代表着一个所有用户都能明显感觉到的大型功能更新，例如界面的明显变化，重要功能的添加，或者有时也许只是累积了10次普通的功能更新，这也是没问题的
- 第三位用于表达两位数的小功能更新，即便一般它不会到两位数就会被一个中等或较大的更新归零，但这个空位为中等或大功能的更新提供了对比的感觉，一般不推荐直接在这一位上递增
- ```9000```过后的下一个大更新是```10000```，再下一个是```11000```还是```20000```由项目自己决定，但一般建议使用```11000```，避免数值膨胀的太快，超过5位数的版本号一般较为难以记忆。
- 对于第一个稳定的发布版本之前的版本，一般推荐使用三位数来替代，此时的数字增加比较随意，一般推荐小更新递增，大更新第一位数字加一。
### 修正版本号
对应Semver的修正版本号，Nver推荐使用一个三位数字来表示，每次递增，一般不建议使用递增以外的方式来增加。

如果您的库很少会发布修正版本号而是倾向于使用小版本号来更新（考虑到很多项目不会承诺对小版本号分支的持续支持，一般通过向下兼容的功能更新同时修复存在的问题，并推荐用户升级到兼容的下一个小版本号更新），推荐在交流时使用更简单的小写字母来表示修正版本号。
### 额外信息
Nver一般不推荐使用额外信息，如果是用于测试的版本则可以随意，规则与Semver相同，正式发布的版本一般不推荐带有额外信息。
### 完整示例
- 一个库初始化的Nver为```A100.000```，对应Semver```0.100.0```，交流时一般省略修正版-本号直接称呼```A100```，甚至更省略直接称为```A1```。
- 当一个库基本功能完成进入Beta阶段时，例如Nver为```B500.000```，对应Semver```0.500.0```，称呼为```B500```或```B5```。
- 当一个库发布了一个计划维护的正式版本，例如Nver为```X1000.000```，对应Semver```1.1000.0```，称呼为```X1000```或```X1```。
- 当一个库发布了一个普通规模功能更新，例如Nver为```X1100.000```，对应Semver```1.1100.0```，称呼为```X1100```或```X1.1```。
- 当一个库发布了一个较小规模功能更新，例如Nver为```X1101.000```，对应Semver```1.1101.0```，称呼为```X1101```或```X1.1.1```。
- 当一个库发布了一个临时的小问题修正，例如Nver为```X1101.001```，对应Semver```1.1101.1```，如果决定在交流时采用小写字母代表修正版本，可以称呼为```X1101c```或更简单的```X1.1.1c```。（由于ab很多时候代表着alpha和beta，推荐从c开始使用，也可以选择从其他字母比如p开始使用）
- 当一个库发布了一个较大规模功能更新，例如Nver为```X2000.000```，对应Semver```1.2000.0```，称呼为```X2000```或```X2```。
### 推荐使用方式
Nver推荐以下使用方式：
- 包管理器中使用对应的Semver，如```1.1000.0```，这应当是与基于Semver的包管理系统兼容的。
- 主页的Releases中使用完整Nver，如```X1000.000```，如果决定使用小写字母代表修正版本，则为```X1000```，举例来说第一个修正版便为```X1000c```。
- 交流时主要使用```X1000```或```X1```这种简称，涉及到详细的区别时再提及完整Nver。
- 在开发者使用包时，需要知道当前字母所对应的大版本号，这一点应当在对应版本的起步文档中提及。
